import{c as Rt,a as n,b as Dt,t as u}from"../chunks/CQeaYElY.js";import{p as St,f as g,a as Ft,a7 as Gt,o as r,ac as Lt,c as e,r as t,s as a,ab as f,t as p}from"../chunks/mCM1Q4f2.js";import{s as l}from"../chunks/BkpIIv3x.js";import{i as et}from"../chunks/_9f2rokR.js";import{e as x,i as b}from"../chunks/BwirJsZk.js";import{s as Mt}from"../chunks/DZlsR1It.js";import{p as rt}from"../chunks/BTF6Oz8w.js";import{o as Pt}from"../chunks/BRateF5a.js";import{p as w}from"../chunks/BorcUNDg.js";import{F as y}from"../chunks/CF8cNsMY.js";import{I as Ut}from"../chunks/DkNHlwz-.js";import{s as kt,i as qt,a as At}from"../chunks/Co2-gIP7.js";var Ht=u(" <br>",1),Nt=u("<div> </div>"),Ot=u(" <br>",1),Qt=u('<tr><th class="tar svelte-10778mc">Order #:</th><td class="svelte-10778mc"> </td></tr>'),Vt=u('<tr><td class="tal svelte-10778mc"> </td><td class="tar svelte-10778mc"> </td><td class="tac svelte-10778mc"> </td><td class="tar svelte-10778mc"> </td><td class="tar svelte-10778mc"> </td></tr>'),jt=u(" <br>",1),zt=u('<div id="c-inv" class="svelte-10778mc"><section id="c-header" class="row svelte-10778mc"><div id="c-logo" class="svelte-10778mc"><img alt="" class="svelte-10778mc"></div> <div id="c-address" class="svelte-10778mc"></div> <section id="c-title" class="col svelte-10778mc"><header class="svelte-10778mc">Tax Invoice</header> <!></section></section> <section id="c-inv-detail" class="row svelte-10778mc"><section id="c-issue-to"><header class="svelte-10778mc">Invoice To:</header> <div></div></section> <section><table class="svelte-10778mc"><tbody><tr><th class="tar svelte-10778mc">Date:</th><td class="svelte-10778mc"> </td></tr><tr><th class="tar svelte-10778mc">Invoice #:</th><td class="svelte-10778mc"> </td></tr><!></tbody></table></section></section> <section id="c-lines" class="row svelte-10778mc"><table class="svelte-10778mc"><thead class="svelte-10778mc"><tr><th class="tal svelte-10778mc">Description</th><th class="tar svelte-10778mc" style="width: 2cm;">Quantity</th><th class="tac svelte-10778mc" style="width: 2cm;">Unit</th><th class="tar svelte-10778mc" style="width: 2cm;">Unit Price</th><th class="tar svelte-10778mc" style="width: 2cm; white-space: nowrap;"> </th></tr></thead><tbody></tbody><tfoot class="svelte-10778mc"><tr><th class="tar svelte-10778mc" colspan="4">Subtotal:</th><th class="tar svelte-10778mc"> </th></tr><tr><th class="tar svelte-10778mc" colspan="4">GST:</th><th class="tar svelte-10778mc"> </th></tr><tr><th class="tar svelte-10778mc" colspan="4">Grand Total:</th><th class="tar svelte-10778mc"> </th></tr></tfoot></table></section> <section id="footer" class="row svelte-10778mc"></section></div>');function ae(at,st){St(st,!0);const m=kt.read();let ct=rt(m.logoData),v=Lt(null);Pt(()=>{console.log(w.params);const d=w.params.id;if(d){const _=w.params.preview;let h;_?h=qt.get(d):h=At.get(d),h&&Gt(v,rt(new Ut(h)))}});var A=Rt(),ot=g(A);{var vt=d=>{var _=zt(),h=e(_),C=e(h),it=e(C);t(C);var T=a(C,2);x(T,21,()=>{var s;return(s=m.address??"")==null?void 0:s.split(`
`)},b,(s,o)=>{f();var c=Ht(),i=g(c,!0);f(),p(()=>l(i,r(o))),n(s,c)}),t(T);var H=a(T,2),dt=a(e(H),2);x(dt,17,()=>{var s;return(s=m.invoiceHeader??"")==null?void 0:s.split(`
`)},b,(s,o)=>{var c=Nt(),i=e(c,!0);t(c),p(()=>l(i,r(o))),n(s,c)}),t(H),t(h);var I=a(h,2),R=e(I),N=a(e(R),2);x(N,21,()=>r(v).issueToLines,b,(s,o)=>{f();var c=Ot(),i=g(c,!0);f(),p(()=>l(i,r(o))),n(s,c)}),t(N),t(R);var O=a(R,2),Q=e(O),V=e(Q),D=e(V),j=a(e(D)),nt=e(j,!0);t(j),t(D);var S=a(D),z=a(e(S)),mt=e(z,!0);t(z),t(S);var _t=a(S);{var ht=s=>{var o=Qt(),c=a(e(o)),i=e(c,!0);t(c),t(o),p(()=>l(i,r(v).orderRef)),n(s,o)};et(_t,s=>{r(v).orderRef.length>0&&s(ht)})}t(V),t(Q),t(O),t(I);var F=a(I,2),B=e(F),G=e(B),E=e(G),J=a(e(E),4),pt=e(J);t(J),t(E),t(G);var L=a(G);x(L,21,()=>r(v).lines,b,(s,o)=>{var c=Vt(),i=e(c),bt=e(i,!0);t(i);var U=a(i),yt=e(U,!0);t(U);var k=a(U),gt=e(k,!0);t(k);var q=a(k),wt=e(q,!0);t(q);var tt=a(q),Ct=e(tt,!0);t(tt),t(c),p((Tt,It)=>{l(bt,r(o).description),l(yt,r(o).quantity),l(gt,r(o).units),l(wt,Tt),l(Ct,It)},[()=>y.currency(r(o).unitCost,r(v).currencyCode,m.localeCode),()=>y.currency(r(o).total,r(v).currencyCode,m.localeCode)]),n(s,c)}),t(L);var K=a(L),M=e(K),W=a(e(M)),ut=e(W,!0);t(W),t(M);var P=a(M),X=a(e(P)),ft=e(X,!0);t(X),t(P);var Y=a(P),Z=a(e(Y)),xt=e(Z,!0);t(Z),t(Y),t(K),t(B),t(F);var $=a(F,2);x($,21,()=>r(v).footerLines,b,(s,o)=>{f();var c=jt(),i=g(c,!0);f(),p(()=>l(i,r(o))),n(s,c)}),t($),t(_),p((s,o,c)=>{Mt(it,"src",ct),l(nt,r(v).date),l(mt,r(v).number),l(pt,`Amount (${r(v).currencyCode??""})`),l(ut,s),l(ft,o),l(xt,c)},[()=>y.currency(r(v).subtotal,r(v).currencyCode,m.localeCode),()=>y.currency(r(v).taxTotal,r(v).currencyCode,m.localeCode),()=>y.currency(r(v).grandTotal,r(v).currencyCode,m.localeCode)]),n(d,_)},lt=d=>{var _=Dt();p(()=>l(_,`Invoice with id '${w.params.id??""}' not found`)),n(d,_)};et(ot,d=>{r(v)?d(vt):d(lt,!1)})}n(at,A),Ft()}export{ae as component};
