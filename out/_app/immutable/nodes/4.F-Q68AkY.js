import{a as D,t as A}from"../chunks/disclose-version.ZjNFFspW.js";import{p as C,d,s as l,f as E,a as N,g as r,b as a,c as f,r as m}from"../chunks/runtime.CMfmp5FK.js";import{d as V,r as R}from"../chunks/events.Ck8tAUNB.js";import{r as q}from"../chunks/attributes.-KLHLZgj.js";import{b as x,a as z}from"../chunks/input.Cjk_fENK.js";import{p as h}from"../chunks/proxy.RwLPPeI8.js";import{B as G,R as H}from"../chunks/BackupAndRestore.CDe3Ld-t.js";function I(u,t,s,p,i,n){try{if(!r(t))throw Error("No data to restore, select a file first");s.restoreFromBase64(r(t)),alert("Restored successfully!"),a(t,void 0),a(p,void 0),a(i,h(n.encodeDataToBackup()))}catch(o){alert(o)}}var J=(u,t)=>t.downloadBackupFile(),K=(u,t)=>t(),L=A('<h2>Backup & Restore</h2> <section><article><textarea name="backup-text" class="svelte-1iwmjr1"></textarea> <button>Backup</button></article></section> <section><article><input name="restore-file" type="file" accept=".timely-backup"> <textarea name="restore-text" class="svelte-1iwmjr1"></textarea> <button>Restore</button></article></section>',1);function Y(u,t){C(t,!0);const s=new G,p=new H;let i=d(h(s.encodeDataToBackup())),n=d(void 0),o=d(void 0),_=d(void 0);async function S(){var F;const e=(F=r(n))==null?void 0:F.item(0);e&&a(o,h(await p.getFileTextContents(e)))}var g=L(),v=l(E(g),2),B=f(v),b=f(B);R(b);var T=l(b,2);T.__click=[J,s],m(B),m(v);var w=l(v,2),y=f(w),c=f(y);q(c),c.__change=[K,S];var k=l(c,2);R(k);var j=l(k,2);j.__click=[I,o,p,_,i,s],m(y),m(w),x(b,()=>r(i),e=>a(i,e)),x(c,()=>r(_),e=>a(_,e)),z(c,()=>r(n),e=>a(n,e)),x(k,()=>r(o),e=>a(o,e)),D(u,g),N()}V(["click","change"]);export{Y as component};
