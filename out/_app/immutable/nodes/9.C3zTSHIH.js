import{c as Gt,a as d,b as Mt,t as _}from"../chunks/CBmAC5jC.js";import{p as Nt,f as g,a as Ot,N as Pt,o as r,W as Ut,c as e,r as t,s as a,V as y,t as m}from"../chunks/B3quWTxq.js";import{s as l}from"../chunks/D1LvbsoL.js";import{i as q}from"../chunks/Cl6SPXql.js";import{e as w,i as C,s as Vt}from"../chunks/DvSaprfN.js";import{p as ct}from"../chunks/DwbFJCge.js";import{o as kt}from"../chunks/CgBeF7EA.js";import{p as A}from"../chunks/BxuzYPfO.js";import{F as T}from"../chunks/C1UJn8Ae.js";import{I as qt}from"../chunks/D2cxjJbT.js";import{s as At,i as Ht,a as Qt}from"../chunks/Dk709sgr.js";var Wt=_(" <br>",1),jt=_("<div> </div>"),zt=_(" <br>",1),Bt=_('<tr><th class="tar svelte-10778mc">Order #:</th><td class="svelte-10778mc"> </td></tr>'),Et=_('<td class="tal svelte-10778mc" colspan="5"> </td>'),Jt=_('<td class="tal svelte-10778mc"> </td> <td class="tar svelte-10778mc"> </td> <td class="tac svelte-10778mc"> </td> <td class="tar svelte-10778mc"> </td> <td class="tar svelte-10778mc"> </td>',1),Kt=_("<tr><!></tr>"),Xt=_(" <br>",1),Yt=_('<div id="c-inv" class="svelte-10778mc"><section id="c-header" class="row svelte-10778mc"><div id="c-logo" class="svelte-10778mc"><img alt="" class="svelte-10778mc"></div> <div id="c-address" class="svelte-10778mc"></div> <section id="c-title" class="col svelte-10778mc"><header class="svelte-10778mc">Tax Invoice</header> <!></section></section> <section id="c-inv-detail" class="row svelte-10778mc"><section id="c-issue-to"><header class="svelte-10778mc">Invoice To:</header> <div></div></section> <section><table class="svelte-10778mc"><tbody><tr><th class="tar svelte-10778mc">Date:</th><td class="svelte-10778mc"> </td></tr><tr><th class="tar svelte-10778mc">Invoice #:</th><td class="svelte-10778mc"> </td></tr><!></tbody></table></section></section> <section id="c-lines" class="row svelte-10778mc"><table class="svelte-10778mc"><thead class="svelte-10778mc"><tr><th class="tal svelte-10778mc">Description</th><th class="tar svelte-10778mc" style="width: 2cm;">Quantity</th><th class="tac svelte-10778mc" style="width: 2cm;">Unit</th><th class="tar svelte-10778mc" style="width: 2cm;">Unit Price</th><th class="tar svelte-10778mc" style="width: 2cm; white-space: nowrap;"> </th></tr></thead><tbody></tbody><tfoot class="svelte-10778mc"><tr><th class="tar svelte-10778mc" colspan="4">Subtotal:</th><th class="tar svelte-10778mc"> </th></tr><tr><th class="tar svelte-10778mc" colspan="4">GST:</th><th class="tar svelte-10778mc"> </th></tr><tr><th class="tar svelte-10778mc" colspan="4">Grand Total:</th><th class="tar svelte-10778mc"> </th></tr></tfoot></table></section> <section id="footer" class="row svelte-10778mc"></section></div>');function ie(ot,vt){Nt(vt,!0);const h=At.read();let lt=ct(h.logoData),v=Ut(null);kt(()=>{const n=A.params.id;if(n){const p=A.params.preview;let u;p?u=Ht.get(n):u=Qt.get(n),u&&Pt(v,ct(new qt(u)))}});var H=Gt(),it=g(H);{var dt=n=>{var p=Yt(),u=e(p),I=e(u),mt=e(I);t(I);var D=a(I,2);w(D,21,()=>{var s;return(s=h.address??"")==null?void 0:s.split(`
`)},C,(s,c)=>{y();var o=Wt(),i=g(o,!0);y(),m(()=>l(i,r(c))),d(s,o)}),t(D);var Q=a(D,2),_t=a(e(Q),2);w(_t,17,()=>{var s;return(s=h.invoiceHeader??"")==null?void 0:s.split(`
`)},C,(s,c)=>{var o=jt(),i=e(o,!0);t(o),m(()=>l(i,r(c))),d(s,o)}),t(Q),t(u);var R=a(u,2),L=e(R),W=a(e(L),2);w(W,21,()=>r(v).issueToLines,C,(s,c)=>{y();var o=zt(),i=g(o,!0);y(),m(()=>l(i,r(c))),d(s,o)}),t(W),t(L);var j=a(L,2),z=e(j),B=e(z),S=e(B),E=a(e(S)),ht=e(E,!0);t(E),t(S);var F=a(S),J=a(e(F)),pt=e(J,!0);t(J),t(F);var ut=a(F);{var ft=s=>{var c=Bt(),o=a(e(c)),i=e(o,!0);t(o),t(c),m(()=>l(i,r(v).orderRef)),d(s,c)};q(ut,s=>{r(v).orderRef.length>0&&s(ft)})}t(B),t(z),t(j),t(R);var G=a(R,2),K=e(G),M=e(K),X=e(M),Y=a(e(X),4),xt=e(Y);t(Y),t(X),t(M);var N=a(M);w(N,21,()=>r(v).lines,C,(s,c)=>{var o=Kt(),i=e(o);{var wt=f=>{var x=Et(),b=e(x,!0);t(x),m(()=>l(b,r(c).description)),d(f,x)},Ct=f=>{var x=Jt(),b=g(x),Tt=e(b,!0);t(b);var U=a(b,2),It=e(U,!0);t(U);var V=a(U,2),Dt=e(V,!0);t(V);var k=a(V,2),Rt=e(k,!0);t(k);var st=a(k,2),Lt=e(st,!0);t(st),m((St,Ft)=>{l(Tt,r(c).description),l(It,r(c).quantity),l(Dt,r(c).units),l(Rt,St),l(Lt,Ft)},[()=>T.currency(r(c).unitCost,r(v).currencyCode,h.localeCode),()=>T.currency(r(c).total,r(v).currencyCode,h.localeCode)]),d(f,x)};q(i,f=>{r(c).isDescriptionOnlyLine?f(wt):f(Ct,!1)})}t(o),d(s,o)}),t(N);var Z=a(N),O=e(Z),$=a(e(O)),yt=e($,!0);t($),t(O);var P=a(O),tt=a(e(P)),bt=e(tt,!0);t(tt),t(P);var et=a(P),rt=a(e(et)),gt=e(rt,!0);t(rt),t(et),t(Z),t(K),t(G);var at=a(G,2);w(at,21,()=>r(v).footerLines,C,(s,c)=>{y();var o=Xt(),i=g(o,!0);y(),m(()=>l(i,r(c))),d(s,o)}),t(at),t(p),m((s,c,o)=>{Vt(mt,"src",lt),l(ht,r(v).date),l(pt,r(v).number),l(xt,`Amount (${r(v).currencyCode??""})`),l(yt,s),l(bt,c),l(gt,o)},[()=>T.currency(r(v).subtotal,r(v).currencyCode,h.localeCode),()=>T.currency(r(v).taxTotal,r(v).currencyCode,h.localeCode),()=>T.currency(r(v).grandTotal,r(v).currencyCode,h.localeCode)]),d(n,p)},nt=n=>{var p=Mt();m(()=>l(p,`Invoice with id '${A.params.id??""}' not found`)),d(n,p)};q(it,n=>{r(v)?n(dt):n(nt,!1)})}d(ot,H),Ot()}export{ie as component};
