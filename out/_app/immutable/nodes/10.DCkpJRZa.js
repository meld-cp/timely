import{c as Ft,a as d,b as Gt,t as h}from"../chunks/9FMlr9EW.js";import{p as Mt,f as y,a as Ot,k as Ut,l as r,j as jt,c as e,r as t,s as a,i as u,t as _}from"../chunks/Dv6h_wod.js";import{s as l}from"../chunks/2E_t980S.js";import{i as N}from"../chunks/XIZln9K_.js";import{e as g,i as C}from"../chunks/DeHa4jcw.js";import{s as qt}from"../chunks/Ber1wtzw.js";import{p as At}from"../chunks/Dt7jNuNY.js";import{o as Nt}from"../chunks/CO77eEDg.js";import{p as st}from"../chunks/DlmXFuRL.js";import{F as w}from"../chunks/C1UJn8Ae.js";import{a as ct,I as Pt}from"../chunks/Uwi_F8rl.js";var Qt=h(" <br>",1),Vt=h(" <br>",1),zt=h(" <br>",1),Bt=h('<tr><th class="tar svelte-10778mc">Order #:</th><td class="svelte-10778mc"> </td></tr>'),Et=h('<td class="tal svelte-10778mc" colspan="5"> </td>'),Ht=h('<td class="tal svelte-10778mc"> </td> <td class="tar svelte-10778mc"> </td> <td class="tac svelte-10778mc"> </td> <td class="tar svelte-10778mc"> </td> <td class="tar svelte-10778mc"> </td>',1),Jt=h("<tr><!></tr>"),Kt=h(" <br>",1),Wt=h('<div id="c-inv" class="svelte-10778mc"><section id="c-header" class="row svelte-10778mc"><div id="c-logo" class="svelte-10778mc"><img alt="" class="svelte-10778mc"></div> <div id="c-address" class="svelte-10778mc"></div> <section id="c-title" class="col svelte-10778mc"><header class="svelte-10778mc">Tax Invoice</header> <!></section></section> <section id="c-inv-detail" class="row svelte-10778mc"><section id="c-issue-to"><header class="svelte-10778mc">Invoice To:</header> <div></div></section> <section><table class="svelte-10778mc"><tbody><tr><th class="tar svelte-10778mc">Date:</th><td class="svelte-10778mc"> </td></tr><tr><th class="tar svelte-10778mc">Invoice #:</th><td class="svelte-10778mc"> </td></tr><!></tbody></table></section></section> <section id="c-lines" class="row svelte-10778mc"><table class="svelte-10778mc"><thead class="svelte-10778mc"><tr><th class="tal svelte-10778mc">Description</th><th class="tar svelte-10778mc" style="width: 2cm;">Quantity</th><th class="tac svelte-10778mc" style="width: 2cm;">Unit</th><th class="tar svelte-10778mc" style="width: 2cm;">Unit Price</th><th class="tar svelte-10778mc" style="width: 2cm; white-space: nowrap;"> </th></tr></thead><tbody></tbody><tfoot class="svelte-10778mc"><tr><th class="tar svelte-10778mc" colspan="4">Subtotal:</th><th class="tar svelte-10778mc"> </th></tr><tr><th class="tar svelte-10778mc" colspan="4">GST:</th><th class="tar svelte-10778mc"> </th></tr><tr><th class="tar svelte-10778mc" colspan="4">Grand Total:</th><th class="tar svelte-10778mc"> </th></tr></tfoot></table></section> <section id="footer" class="row svelte-10778mc"></section></div>');function ve(ot,vt){Mt(vt,!0);const p=ct.settingsController.read();let lt=p.logoData,o=jt(null);Nt(()=>{const n=st.params.id;if(n){let m=ct.invRepo.get(n);m&&Ut(o,At(new Pt(m)))}});var P=Ft(),it=y(P);{var dt=n=>{var m=Wt(),T=e(m),I=e(T),mt=e(I);qt(mt,"src",lt),t(I);var D=a(I,2);g(D,21,()=>{var v;return(v=p.address??"")==null?void 0:v.split(`
`)},C,(v,s)=>{u();var c=Qt(),i=y(c,!0);u(),_(()=>l(i,r(s))),d(v,c)}),t(D);var Q=a(D,2),_t=a(e(Q),2);g(_t,17,()=>r(o).headerLines,C,(v,s)=>{u();var c=Vt(),i=y(c,!0);u(),_(()=>l(i,r(s))),d(v,c)}),t(Q),t(T);var L=a(T,2),R=e(L),V=a(e(R),2);g(V,21,()=>r(o).issueToLines,C,(v,s)=>{u();var c=zt(),i=y(c,!0);u(),_(()=>l(i,r(s))),d(v,c)}),t(V),t(R);var z=a(R,2),B=e(z),E=e(B),S=e(E),H=a(e(S)),ht=e(H,!0);t(H),t(S);var k=a(S),J=a(e(k)),ut=e(J,!0);t(J),t(k);var pt=a(k);{var ft=v=>{var s=Bt(),c=a(e(s)),i=e(c,!0);t(c),t(s),_(()=>l(i,r(o).orderRef)),d(v,s)};N(pt,v=>{r(o).orderRef.length>0&&v(ft)})}t(E),t(B),t(z),t(L);var F=a(L,2),K=e(F),G=e(K),W=e(G),X=a(e(W),4),xt=e(X);t(X),t(W),t(G);var M=a(G);g(M,21,()=>r(o).lines,C,(v,s)=>{var c=Jt(),i=e(c);{var Ct=f=>{var x=Et(),b=e(x,!0);t(x),_(()=>l(b,r(s).description)),d(f,x)},wt=f=>{var x=Ht(),b=y(x),Tt=e(b,!0);t(b);var j=a(b,2),It=e(j,!0);t(j);var q=a(j,2),Dt=e(q,!0);t(q);var A=a(q,2),Lt=e(A,!0);t(A);var at=a(A,2),Rt=e(at,!0);t(at),_((St,kt)=>{l(Tt,r(s).description),l(It,r(s).quantity),l(Dt,r(s).units),l(Lt,St),l(Rt,kt)},[()=>w.currency(r(s).unitCost,r(o).currencyCode,p.localeCode),()=>w.currency(r(s).total,r(o).currencyCode,p.localeCode)]),d(f,x)};N(i,f=>{r(s).isDescriptionOnlyLine?f(Ct):f(wt,!1)})}t(c),d(v,c)}),t(M);var Y=a(M),O=e(Y),Z=a(e(O)),yt=e(Z,!0);t(Z),t(O);var U=a(O),$=a(e(U)),bt=e($,!0);t($),t(U);var tt=a(U),et=a(e(tt)),gt=e(et,!0);t(et),t(tt),t(Y),t(K),t(F);var rt=a(F,2);g(rt,21,()=>r(o).footerLines,C,(v,s)=>{u();var c=Kt(),i=y(c,!0);u(),_(()=>l(i,r(s))),d(v,c)}),t(rt),t(m),_((v,s,c)=>{l(ht,r(o).date),l(ut,r(o).number),l(xt,`Amount (${r(o).currencyCode??""})`),l(yt,v),l(bt,s),l(gt,c)},[()=>w.currency(r(o).subtotal,r(o).currencyCode,p.localeCode),()=>w.currency(r(o).taxTotal,r(o).currencyCode,p.localeCode),()=>w.currency(r(o).grandTotal,r(o).currencyCode,p.localeCode)]),d(n,m)},nt=n=>{var m=Gt();_(()=>l(m,`Invoice with id '${st.params.id??""}' not found`)),d(n,m)};N(it,n=>{r(o)?n(dt):n(nt,!1)})}d(ot,P),Ot()}export{ve as component};
