import{c as Tt,a as _,d as It,t as u}from"../chunks/disclose-version.DXveyqe2.js";import{p as Dt,f as b,a as Rt,a2 as St,x as a,ap as Ft,c as e,r as t,s as r,n as p,t as d}from"../chunks/runtime.BCBvpcPx.js";import{s as l}from"../chunks/render.B90wnRIY.js";import{i as tt}from"../chunks/if.pYBg6D4m.js";import{I as Gt,e as f,i as x}from"../chunks/ViewModels.svelte.C5shNVRf.js";import{s as Lt,i as Mt,a as Ut}from"../chunks/Singletons.DGaFW2wU.js";import{p as et}from"../chunks/proxy.DZNCdgJO.js";import{o as kt}from"../chunks/index-client.BYzXXsgY.js";import{p as at}from"../chunks/index.CvgqxUVC.js";import{F as y}from"../chunks/FormatNumber.CF8cNsMY.js";var qt=u(" <br>",1),At=u("<div> </div>"),Ht=u(" <br>",1),Nt=u('<tr><th class="tar svelte-10778mc">Order #:</th><td class="svelte-10778mc"> </td></tr>'),Ot=u('<tr><td class="tal svelte-10778mc"> </td><td class="tar svelte-10778mc"> </td><td class="tac svelte-10778mc"> </td><td class="tar svelte-10778mc"> </td><td class="tar svelte-10778mc"> </td></tr>'),Pt=u(" <br>",1),Qt=u('<div id="c-inv" class="svelte-10778mc"><section id="c-header" class="row svelte-10778mc"><div id="c-logo" class="svelte-10778mc"><img alt="" class="svelte-10778mc"></div> <div id="c-address" class="svelte-10778mc"></div> <section id="c-title" class="col svelte-10778mc"><header class="svelte-10778mc">Tax Invoice</header> <!></section></section> <section id="c-inv-detail" class="row svelte-10778mc"><section id="c-issue-to"><header class="svelte-10778mc">Invoice To:</header> <div></div></section> <section><table class="svelte-10778mc"><tbody><tr><th class="tar svelte-10778mc">Date:</th><td class="svelte-10778mc"> </td></tr><tr><th class="tar svelte-10778mc">Invoice #:</th><td class="svelte-10778mc"> </td></tr><!></tbody></table></section></section> <section id="c-lines" class="row svelte-10778mc"><table class="svelte-10778mc"><thead class="svelte-10778mc"><tr><th class="tal svelte-10778mc">Description</th><th class="tar svelte-10778mc" style="width: 2cm;">Quantity</th><th class="tac svelte-10778mc" style="width: 2cm;">Unit</th><th class="tar svelte-10778mc" style="width: 2cm;">Unit Price</th><th class="tar svelte-10778mc" style="width: 2cm; white-space: nowrap;"> </th></tr></thead><tbody></tbody><tfoot class="svelte-10778mc"><tr><th class="tar svelte-10778mc" colspan="4">Subtotal:</th><th class="tar svelte-10778mc"> </th></tr><tr><th class="tar svelte-10778mc" colspan="4">GST:</th><th class="tar svelte-10778mc"> </th></tr><tr><th class="tar svelte-10778mc" colspan="4">Grand Total:</th><th class="tar svelte-10778mc"> </th></tr></tfoot></table></section> <section id="footer" class="row svelte-10778mc"></section></div>');function Zt(rt,st){Dt(st,!0);const h=Lt.read();let ct=et(h.logoData),o=Ft(null);kt(()=>{const n=at.params.id;if(n){const m=Mt.get(n);m&&St(o,et(new Gt(m)))}});var A=Tt(),ot=b(A);{var vt=n=>{var m=Qt(),g=e(m),w=e(g),it=e(w);t(w);var C=r(w,2);f(C,21,()=>{var s;return(s=h.address??"")==null?void 0:s.split(`
`)},x,(s,v)=>{p();var c=qt(),i=b(c,!0);p(),d(()=>l(i,a(v))),_(s,c)}),t(C);var H=r(C,2),dt=r(e(H),2);f(dt,17,()=>{var s;return(s=h.invoiceHeader??"")==null?void 0:s.split(`
`)},x,(s,v)=>{var c=At(),i=e(c,!0);t(c),d(()=>l(i,a(v))),_(s,c)}),t(H),t(g);var T=r(g,2),I=e(T),N=r(e(I),2);f(N,21,()=>a(o).issueToLines,x,(s,v)=>{p();var c=Ht(),i=b(c,!0);p(),d(()=>l(i,a(v))),_(s,c)}),t(N),t(I);var O=r(I,2),P=e(O),Q=e(P),D=e(Q),V=r(e(D)),nt=e(V,!0);t(V),t(D);var R=r(D),j=r(e(R)),mt=e(j,!0);t(j),t(R);var _t=r(R);{var ht=s=>{var v=Nt(),c=r(e(v)),i=e(c,!0);t(c),t(v),d(()=>l(i,a(o).orderRef)),_(s,v)};tt(_t,s=>{a(o).orderRef.length>0&&s(ht)})}t(Q),t(P),t(O),t(T);var S=r(T,2),z=e(S),F=e(z),B=e(F),E=r(e(B),4),ut=e(E);t(E),t(B),t(F);var G=r(F);f(G,21,()=>a(o).lines,x,(s,v)=>{var c=Ot(),i=e(c),yt=e(i,!0);t(i);var U=r(i),bt=e(U,!0);t(U);var k=r(U),gt=e(k,!0);t(k);var q=r(k),wt=e(q,!0);d(()=>l(wt,y.currency(a(v).unitCost,a(o).currencyCode,h.localeCode))),t(q);var $=r(q),Ct=e($,!0);d(()=>l(Ct,y.currency(a(v).total,a(o).currencyCode,h.localeCode))),t($),t(c),d(()=>{l(yt,a(v).description),l(bt,a(v).quantity),l(gt,a(v).units)}),_(s,c)}),t(G);var J=r(G),L=e(J),K=r(e(L)),pt=e(K,!0);d(()=>l(pt,y.currency(a(o).subtotal,a(o).currencyCode,h.localeCode))),t(K),t(L);var M=r(L),W=r(e(M)),ft=e(W,!0);d(()=>l(ft,y.currency(a(o).taxTotal,a(o).currencyCode,h.localeCode))),t(W),t(M);var X=r(M),Y=r(e(X)),xt=e(Y,!0);d(()=>l(xt,y.currency(a(o).grandTotal,a(o).currencyCode,h.localeCode))),t(Y),t(X),t(J),t(z),t(S);var Z=r(S,2);f(Z,21,()=>a(o).footerLines,x,(s,v)=>{p();var c=Pt(),i=b(c,!0);p(),d(()=>l(i,a(v))),_(s,c)}),t(Z),t(m),d(()=>{Ut(it,"src",ct),l(nt,a(o).date),l(mt,a(o).number),l(ut,`Amount (${a(o).currencyCode??""})`)}),_(n,m)},lt=n=>{var m=It();d(()=>l(m,`Invoice with id '${at.params.id??""}' not found`)),_(n,m)};tt(ot,n=>{a(o)?n(vt):n(lt,!1)})}_(rt,A),Rt()}export{Zt as component};
