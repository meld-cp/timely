import{c as Rt,a as n,b as Dt,t as p}from"../chunks/CBmAC5jC.js";import{p as St,f as g,a as Ft,N as Gt,o as r,W as Lt,c as e,r as t,s as a,V as f,t as u}from"../chunks/B3quWTxq.js";import{s as l}from"../chunks/D1LvbsoL.js";import{i as et}from"../chunks/Cl6SPXql.js";import{e as x,i as y,s as Mt}from"../chunks/DvSaprfN.js";import{p as rt}from"../chunks/DwbFJCge.js";import{o as Nt}from"../chunks/CgBeF7EA.js";import{p as w}from"../chunks/BI4ZXidc.js";import{F as b}from"../chunks/DmIiodil.js";import{I as Pt}from"../chunks/C6dWbsuO.js";import{s as Ut,i as Vt,a as kt}from"../chunks/Co2-gIP7.js";var qt=p(" <br>",1),At=p("<div> </div>"),Ht=p(" <br>",1),Ot=p('<tr><th class="tar svelte-10778mc">Order #:</th><td class="svelte-10778mc"> </td></tr>'),Qt=p('<tr><td class="tal svelte-10778mc"> </td><td class="tar svelte-10778mc"> </td><td class="tac svelte-10778mc"> </td><td class="tar svelte-10778mc"> </td><td class="tar svelte-10778mc"> </td></tr>'),Wt=p(" <br>",1),jt=p('<div id="c-inv" class="svelte-10778mc"><section id="c-header" class="row svelte-10778mc"><div id="c-logo" class="svelte-10778mc"><img alt="" class="svelte-10778mc"></div> <div id="c-address" class="svelte-10778mc"></div> <section id="c-title" class="col svelte-10778mc"><header class="svelte-10778mc">Tax Invoice</header> <!></section></section> <section id="c-inv-detail" class="row svelte-10778mc"><section id="c-issue-to"><header class="svelte-10778mc">Invoice To:</header> <div></div></section> <section><table class="svelte-10778mc"><tbody><tr><th class="tar svelte-10778mc">Date:</th><td class="svelte-10778mc"> </td></tr><tr><th class="tar svelte-10778mc">Invoice #:</th><td class="svelte-10778mc"> </td></tr><!></tbody></table></section></section> <section id="c-lines" class="row svelte-10778mc"><table class="svelte-10778mc"><thead class="svelte-10778mc"><tr><th class="tal svelte-10778mc">Description</th><th class="tar svelte-10778mc" style="width: 2cm;">Quantity</th><th class="tac svelte-10778mc" style="width: 2cm;">Unit</th><th class="tar svelte-10778mc" style="width: 2cm;">Unit Price</th><th class="tar svelte-10778mc" style="width: 2cm; white-space: nowrap;"> </th></tr></thead><tbody></tbody><tfoot class="svelte-10778mc"><tr><th class="tar svelte-10778mc" colspan="4">Subtotal:</th><th class="tar svelte-10778mc"> </th></tr><tr><th class="tar svelte-10778mc" colspan="4">GST:</th><th class="tar svelte-10778mc"> </th></tr><tr><th class="tar svelte-10778mc" colspan="4">Grand Total:</th><th class="tar svelte-10778mc"> </th></tr></tfoot></table></section> <section id="footer" class="row svelte-10778mc"></section></div>');function re(at,st){St(st,!0);const m=Ut.read();let ct=rt(m.logoData),v=Lt(null);Nt(()=>{console.log(w.params);const d=w.params.id;if(d){const _=w.params.preview;let h;_?h=Vt.get(d):h=kt.get(d),h&&Gt(v,rt(new Pt(h)))}});var k=Rt(),ot=g(k);{var vt=d=>{var _=jt(),h=e(_),C=e(h),it=e(C);t(C);var T=a(C,2);x(T,21,()=>{var s;return(s=m.address??"")==null?void 0:s.split(`
`)},y,(s,o)=>{f();var c=qt(),i=g(c,!0);f(),u(()=>l(i,r(o))),n(s,c)}),t(T);var q=a(T,2),dt=a(e(q),2);x(dt,17,()=>{var s;return(s=m.invoiceHeader??"")==null?void 0:s.split(`
`)},y,(s,o)=>{var c=At(),i=e(c,!0);t(c),u(()=>l(i,r(o))),n(s,c)}),t(q),t(h);var I=a(h,2),R=e(I),A=a(e(R),2);x(A,21,()=>r(v).issueToLines,y,(s,o)=>{f();var c=Ht(),i=g(c,!0);f(),u(()=>l(i,r(o))),n(s,c)}),t(A),t(R);var H=a(R,2),O=e(H),Q=e(O),D=e(Q),W=a(e(D)),nt=e(W,!0);t(W),t(D);var S=a(D),j=a(e(S)),mt=e(j,!0);t(j),t(S);var _t=a(S);{var ht=s=>{var o=Ot(),c=a(e(o)),i=e(c,!0);t(c),t(o),u(()=>l(i,r(v).orderRef)),n(s,o)};et(_t,s=>{r(v).orderRef.length>0&&s(ht)})}t(Q),t(O),t(H),t(I);var F=a(I,2),z=e(F),G=e(z),B=e(G),E=a(e(B),4),ut=e(E);t(E),t(B),t(G);var L=a(G);x(L,21,()=>r(v).lines,y,(s,o)=>{var c=Qt(),i=e(c),yt=e(i,!0);t(i);var P=a(i),bt=e(P,!0);t(P);var U=a(P),gt=e(U,!0);t(U);var V=a(U),wt=e(V,!0);t(V);var tt=a(V),Ct=e(tt,!0);t(tt),t(c),u((Tt,It)=>{l(yt,r(o).description),l(bt,r(o).quantity),l(gt,r(o).units),l(wt,Tt),l(Ct,It)},[()=>b.currency(r(o).unitCost,r(v).currencyCode,m.localeCode),()=>b.currency(r(o).total,r(v).currencyCode,m.localeCode)]),n(s,c)}),t(L);var J=a(L),M=e(J),K=a(e(M)),pt=e(K,!0);t(K),t(M);var N=a(M),X=a(e(N)),ft=e(X,!0);t(X),t(N);var Y=a(N),Z=a(e(Y)),xt=e(Z,!0);t(Z),t(Y),t(J),t(z),t(F);var $=a(F,2);x($,21,()=>r(v).footerLines,y,(s,o)=>{f();var c=Wt(),i=g(c,!0);f(),u(()=>l(i,r(o))),n(s,c)}),t($),t(_),u((s,o,c)=>{Mt(it,"src",ct),l(nt,r(v).date),l(mt,r(v).number),l(ut,`Amount (${r(v).currencyCode??""})`),l(pt,s),l(ft,o),l(xt,c)},[()=>b.currency(r(v).subtotal,r(v).currencyCode,m.localeCode),()=>b.currency(r(v).taxTotal,r(v).currencyCode,m.localeCode),()=>b.currency(r(v).grandTotal,r(v).currencyCode,m.localeCode)]),n(d,_)},lt=d=>{var _=Dt();u(()=>l(_,`Invoice with id '${w.params.id??""}' not found`)),n(d,_)};et(ot,d=>{r(v)?d(vt):d(lt,!1)})}n(at,k),Ft()}export{re as component};
