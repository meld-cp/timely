import{c as qt,a as d,t as m,b as At}from"../chunks/D-9eU7Ls.js";import{p as Nt,f as h,a as Pt,k as Qt,t as x,as as Vt,l as a,j as $t,y as zt,s as r,c as e,r as t,i as y}from"../chunks/D_6JOOz4.js";import{h as Bt,s as c}from"../chunks/BSibExFq.js";import{i as C}from"../chunks/DC2ULrIC.js";import{e as f,i as b}from"../chunks/BkIRmUsw.js";import{s as Et}from"../chunks/B47jlKa9.js";import{s as Ht}from"../chunks/PwPRnE0L.js";import{p as Jt}from"../chunks/Du6CA1sz.js";import{o as Kt}from"../chunks/DkiAmYuj.js";import{p as Q}from"../chunks/D5zs3lgx.js";import{F as g}from"../chunks/C1UJn8Ae.js";import{a as it,I as Wt}from"../chunks/D-OxX8Le.js";var Xt=m('<meta name="viewport" content="width=device-width, initial-scale=1.0">'),Yt=m('<div class="watermark svelte-1xwym7k"></div>'),Zt=m(" <br>",1),te=m(" <br>",1),ee=m(" <br>",1),ae=m('<tr><th class="tar svelte-1xwym7k">Order #:</th><td class="svelte-1xwym7k"> </td></tr>'),re=m('<td class="tal svelte-1xwym7k" colspan="5"> </td>'),se=m('<td class="tal svelte-1xwym7k"> </td> <td class="tar svelte-1xwym7k"> </td> <td class="tac svelte-1xwym7k"> </td> <td class="tar svelte-1xwym7k"> </td> <td class="tar svelte-1xwym7k"> </td>',1),oe=m("<tr><!></tr>"),ve=m(" <br>",1),le=m('<!> <div id="c-inv" class="svelte-1xwym7k"><section id="c-header" class="row svelte-1xwym7k"><div id="c-logo" class="svelte-1xwym7k"><img alt="" class="svelte-1xwym7k"></div> <div id="c-address" class="svelte-1xwym7k"></div> <section id="c-title" class="col svelte-1xwym7k"><header class="svelte-1xwym7k">Tax Invoice</header> <!></section></section> <section id="c-inv-detail" class="row svelte-1xwym7k"><section id="c-issue-to"><header class="svelte-1xwym7k">Invoice To:</header> <div></div></section> <section><table class="svelte-1xwym7k"><tbody><tr><th class="tar svelte-1xwym7k">Date:</th><td class="svelte-1xwym7k"> </td></tr><tr><th class="tar svelte-1xwym7k">Invoice #:</th><td class="svelte-1xwym7k"> </td></tr><!></tbody></table></section></section> <section id="c-lines" class="row svelte-1xwym7k"><table class="svelte-1xwym7k"><thead class="svelte-1xwym7k"><tr><th class="tal svelte-1xwym7k">Description</th><th class="tar svelte-1xwym7k" style="width: 2cm;">Quantity</th><th class="tac svelte-1xwym7k" style="width: 2cm;">Unit</th><th class="tar svelte-1xwym7k" style="width: 2cm;">Unit Price</th><th class="tar svelte-1xwym7k" style="width: 2cm; white-space: nowrap;"> </th></tr></thead><tbody></tbody><tfoot class="svelte-1xwym7k"><tr><th class="tar svelte-1xwym7k" colspan="4">Subtotal:</th><th class="tar svelte-1xwym7k"> </th></tr><tr><th class="tar svelte-1xwym7k" colspan="4">GST:</th><th class="tar svelte-1xwym7k"> </th></tr><tr><th class="tar svelte-1xwym7k" colspan="4">Grand Total:</th><th class="tar svelte-1xwym7k"> </th></tr></tfoot></table></section> <section id="footer" class="row svelte-1xwym7k"></section></div>',1);function ke(dt,nt){Nt(nt,!0);const w=it.settings;let mt=w.logoData,v=$t(null),_t=zt(()=>{var i,_;return`${(i=a(v))==null?void 0:i.issueToLines.at(0)} - Invoice ${(_=a(v))==null?void 0:_.number}`});const V=Q.params.id,$=Q.params.watermark;Kt(()=>{if(V){let i=it.invRepo.get(V);i&&Qt(v,Jt(new Wt(i)))}});var z=qt();Bt(i=>{var _=Xt();x(()=>Vt.title=a(_t)),d(i,_)});var xt=h(z);{var yt=i=>{var _=le(),B=h(_);{var ht=o=>{var s=Yt();s.textContent=$,d(o,s)};C(B,o=>{$&&o(ht)})}var E=r(B,2),T=e(E),I=e(T),ut=e(I);Et(ut,"src",mt),t(I);var L=r(I,2);f(L,21,()=>{var o;return(o=w.address??"")==null?void 0:o.split(`
`)},b,(o,s)=>{y();var l=Zt(),n=h(l,!0);y(),x(()=>c(n,a(s))),d(o,l)}),t(L);var H=r(L,2),pt=r(e(H),2);f(pt,17,()=>a(v).headerLines,b,(o,s)=>{y();var l=te(),n=h(l,!0);y(),x(()=>c(n,a(s))),d(o,l)}),t(H),t(T);var D=r(T,2),R=e(D),J=r(e(R),2);f(J,21,()=>a(v).issueToLines,b,(o,s)=>{y();var l=ee(),n=h(l,!0);y(),x(()=>c(n,a(s))),d(o,l)}),t(J),t(R);var K=r(R,2),W=e(K),X=e(W),S=e(X),Y=r(e(S)),kt=e(Y,!0);t(Y),t(S);var F=r(S),Z=r(e(F)),ft=e(Z,!0);t(Z),t(F);var bt=r(F);{var gt=o=>{var s=ae(),l=r(e(s)),n=e(l,!0);t(l),t(s),x(()=>c(n,a(v).orderRef)),d(o,s)};C(bt,o=>{a(v).orderRef.length>0&&o(gt)})}t(X),t(W),t(K),t(D);var G=r(D,2),tt=e(G),M=e(tt),et=e(M),at=r(e(et),4),Ct=e(at);t(at),t(et),t(M);var O=r(M);f(O,21,()=>a(v).lines,b,(o,s)=>{var l=oe(),n=e(l);{var Dt=u=>{var p=re(),k=e(p,!0);t(p),x(()=>c(k,a(s).description)),d(u,p)},Rt=u=>{var p=se(),k=h(p),St=e(k,!0);t(k);var A=r(k,2),Ft=e(A,!0);t(A);var N=r(A,2),Gt=e(N,!0);t(N);var P=r(N,2),Mt=e(P,!0);t(P);var ct=r(P,2),Ot=e(ct,!0);t(ct),x((Ut,jt)=>{c(St,a(s).description),c(Ft,a(s).quantity),c(Gt,a(s).units),c(Mt,Ut),c(Ot,jt)},[()=>g.currency(a(s).unitCost,a(v).currencyCode,w.localeCode),()=>g.currency(a(s).total,a(v).currencyCode,w.localeCode)]),d(u,p)};C(n,u=>{a(s).isDescriptionOnlyLine?u(Dt):u(Rt,!1)})}t(l),d(o,l)}),t(O);var rt=r(O),U=e(rt),st=r(e(U)),Tt=e(st,!0);t(st),t(U);var j=r(U),ot=r(e(j)),It=e(ot,!0);t(ot),t(j);var vt=r(j),lt=r(e(vt)),Lt=e(lt,!0);t(lt),t(vt),t(rt),t(tt),t(G);var q=r(G,2);Ht(q,"font-weight","bold"),f(q,21,()=>a(v).footerLines,b,(o,s)=>{y();var l=ve(),n=h(l,!0);y(),x(()=>c(n,a(s))),d(o,l)}),t(q),t(E),x((o,s,l)=>{c(kt,a(v).date),c(ft,a(v).number),c(Ct,`Amount (${a(v).currencyCode??""})`),c(Tt,o),c(It,s),c(Lt,l)},[()=>g.currency(a(v).subtotal,a(v).currencyCode,w.localeCode),()=>g.currency(a(v).taxTotal,a(v).currencyCode,w.localeCode),()=>g.currency(a(v).grandTotal,a(v).currencyCode,w.localeCode)]),d(i,_)},wt=i=>{var _=At();x(()=>c(_,`Invoice with id '${Q.params.id??""}' not found`)),d(i,_)};C(xt,i=>{a(v)?i(yt):i(wt,!1)})}d(dt,z),Pt()}export{ke as component};
