import{a as I,t as N}from"../chunks/D1Xbq9Mo.js";import{z as ie,p as me,s as t,f as pe,t as D,a as fe,c as l,r as n,o as d,v as re}from"../chunks/CRiTDDG9.js";import{s as S}from"../chunks/D_tVMzu6.js";import{e as $,i as z,r as be,a as F,s as ge}from"../chunks/CMmp8lOf.js";import{l as xe,d as ye,r as G}from"../chunks/Bt7N_XmN.js";import{b as L}from"../chunks/CJ053N4G.js";import{i as he,p as Ce}from"../chunks/dGNHEYVr.js";import{b as Ie}from"../chunks/D2WjRmon.js";import{s as le,F as De}from"../chunks/HPzWTsYV.js";import{F as ne}from"../chunks/C1UJn8Ae.js";function M(a,o,i,v){var e=a.__styles??(a.__styles={});e[o]!==i&&(e[o]=i,i==null?a.style.removeProperty(o):a.style.setProperty(o,i,""))}function se(a,o,i){if(a.multiple)return Fe(a,o);for(var v of a.options){var e=x(v);if(he(e,o)){v.selected=!0;return}}(!i||o!==void 0)&&(a.selectedIndex=-1)}function Se(a,o){ie(()=>{var i=new MutationObserver(()=>{var v=a.__value;se(a,v)});return i.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{i.disconnect()}})}function oe(a,o,i=o){var v=!0;xe(a,"change",e=>{var u=e?"[selected]":":checked",f;if(a.multiple)f=[].map.call(a.querySelectorAll(u),x);else{var y=a.querySelector(u)??a.querySelector("option:not([disabled])");f=y&&x(y)}i(f)}),ie(()=>{var e=o();if(se(a,e,v),v&&e===void 0){var u=a.querySelector(":checked");u!==null&&(e=x(u),i(e))}a.__value=e,v=!1}),Se(a)}function Fe(a,o){for(var i of a.options)i.selected=~o.indexOf(x(i))}function x(a){return"__value"in a?a.__value:a.value}class Le{static async convertFileToDataURL(o){return new Promise((i,v)=>{const e=new FileReader;e.onloadend=()=>{const u=e.result;return i(u)},e.onerror=v,e.readAsDataURL(o)})}}function p(a,o){o()}var Ne=N("<option> </option>"),Ee=N("<span> </span>"),Ue=N("<option> </option>"),we=N('<h2>Settings</h2> <section><article><details open><summary>General Settings</summary> <label>Locale <select name="locale"><option></option><!></select> <small>Examples: <!></small></label></details></article> <article><details open><summary>Invoice Settings</summary> <label>Default Currency <select name="currency"><option></option><!></select> <small>Example: <span> </span></small></label> <label>Your Address <textarea name="address" autocomplete="address-line1" class="svelte-fggbt6"></textarea></label> <label>Default Invoice Header Lines <textarea name="inv-header" class="svelte-fggbt6"></textarea></label> <label>Your Logo <div style="display: flex; align-items: center; gap: 1rem;"><img alt=""> <input name="inv-logo-file" type="file" accept=".png, .jpg, .jpeg, .svg"></div></label> <label>Next Invoice Number <input name="next-inv-num" type="number" min="1"></label> <label>Default Invoice Footer Lines <textarea name="default-inv-footnote" class="svelte-fggbt6"></textarea></label></details></article></section>',1);function $e(a,o){me(o,!0);const i=[{code:"en-NZ",name:"English (New Zealand)"},{code:"en-US",name:"English (United States)"},{code:"de-DE",name:"Deutsch"}],v=[{code:"NZD",name:"New Zealand Dollar"},{code:"USD",name:"United States Dollar"},{code:"EUR",name:"Euro"}];let e=Ce(le.read()),u,f=re(()=>[`Date: ${De.toLocalDate(new Date,e.localeCode)}`,`Numbers: ${ne.decimalPlaces(123456.789,2,e.localeCode)}`]),y=re(()=>ne.currency(123456.789,e.defaultInvoiceCurrencyCode,e.localeCode));function _(){le.write(e)}async function ue(){if(u&&u.files&&u.files.length>0){const r=await Le.convertFileToDataURL(u.files[0]);e.logoData=r,_()}}var B=we(),J=t(pe(B),2),E=l(J),K=l(E),Q=t(l(K),2),b=t(l(Q));b.__change=[p,_];var h=l(b);h.value=((h.__value="")==null,"");var ve=t(h);$(ve,17,()=>i,z,(r,c)=>{var s=Ne(),m={},Y=l(s,!0);n(s),D(()=>{m!==(m=d(c).code)&&(s.value=(s.__value=d(c).code)==null?"":d(c).code),F(s,d(c).code==e.localeCode),S(Y,d(c).name)}),I(r,s)}),n(b);var V=t(b,2),ce=t(l(V));$(ce,17,()=>d(f),z,(r,c)=>{var s=Ee();M(s,"padding","0 0.5rem");var m=l(s,!0);n(s),D(()=>S(m,d(c))),I(r,s)}),n(V),n(Q),n(K),n(E);var W=t(E,2),X=l(W),U=t(l(X),2),g=t(l(U));g.__change=[p,_];var C=l(g);C.value=((C.__value="")==null,"");var de=t(C);$(de,17,()=>v,z,(r,c)=>{var s=Ue(),m={},Y=l(s,!0);n(s),D(()=>{m!==(m=d(c).code)&&(s.value=(s.__value=d(c).code)==null?"":d(c).code),F(s,d(c).code==e.defaultInvoiceCurrencyCode),S(Y,d(c).name)}),I(r,s)}),n(g);var k=t(g,2),w=t(l(k));M(w,"padding","0 0.5rem");var _e=l(w,!0);n(w),n(k),n(U);var q=t(U,2),R=t(l(q));G(R),R.__input=[p,_],n(q);var P=t(q,2),Z=t(l(P));G(Z),Z.__input=[p,_],n(P);var A=t(P,2),ee=t(l(A)),H=l(ee),ae=t(H,2);ae.__change=ue,Ie(ae,r=>u=r,()=>u),n(ee),n(A);var j=t(A,2),O=t(l(j));be(O),O.__input=[p,_],n(j);var te=t(j,2),T=t(l(te));G(T),T.__input=[p,_],n(te),n(X),n(W),n(J),D(()=>{F(h,e.localeCode==""),F(C,e.defaultInvoiceCurrencyCode==""),S(_e,d(y)),ge(H,"src",e.logoData),M(H,"height","6rem")}),oe(b,()=>e.localeCode,r=>e.localeCode=r),oe(g,()=>e.defaultInvoiceCurrencyCode,r=>e.defaultInvoiceCurrencyCode=r),L(R,()=>e.address,r=>e.address=r),L(Z,()=>e.defaultInvoiceHeader,r=>e.defaultInvoiceHeader=r),L(O,()=>e.nextInvoiceNumber,r=>e.nextInvoiceNumber=r),L(T,()=>e.defaultInvoiceFooter,r=>e.defaultInvoiceFooter=r),I(a,B),fe()}ye(["change","input"]);export{$e as component};
