import{a as M,t as k}from"../chunks/CQeaYElY.js";import"../chunks/HH-MjAmU.js";import{w as J,p as z,aI as T,s as n,f as B,t as Y,a as Q,o as l,aJ as d,c as o,r as s,a7 as V,aK as W}from"../chunks/mCM1Q4f2.js";import{l as X,d as $,r as R}from"../chunks/MeqorYnI.js";import{r as ee,a as x,s as ae}from"../chunks/DZlsR1It.js";import{b as y}from"../chunks/NsD9lZuA.js";import{i as te}from"../chunks/BTF6Oz8w.js";import{b as re}from"../chunks/CI6q0ESM.js";import{i as le}from"../chunks/BYEfN-ui.js";import{s as G}from"../chunks/Co2-gIP7.js";function ne(a,r,e,i){var t=a.__styles??(a.__styles={});t[r]!==e&&(t[r]=e,a.style.setProperty(r,e,""))}function K(a,r,e){if(a.multiple)return se(a,r);for(var i of a.options){var t=p(i);if(te(t,r)){i.selected=!0;return}}(!e||r!==void 0)&&(a.selectedIndex=-1)}function ie(a,r){J(()=>{var e=new MutationObserver(()=>{var i=a.__value;K(a,i)});return e.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{e.disconnect()}})}function oe(a,r,e=r){var i=!0;X(a,"change",t=>{var v=t?"[selected]":":checked",c;if(a.multiple)c=[].map.call(a.querySelectorAll(v),p);else{var _=a.querySelector(v)??a.querySelector("option:not([disabled])");c=_&&p(_)}e(c)}),J(()=>{var t=r();if(K(a,t,i),i&&t===void 0){var v=a.querySelector(":checked");v!==null&&(t=p(v),e(t))}a.__value=t,i=!1}),ie(a)}function se(a,r){for(var e of a.options)e.selected=~r.indexOf(p(e))}function p(a){return"__value"in a?a.__value:a.value}class ue{static async convertFileToDataURL(r){return new Promise((e,i)=>{const t=new FileReader;t.onloadend=()=>{const v=t.result;return e(v)},t.onerror=i,t.readAsDataURL(r)})}}function f(a,r){r()}async function ve(a,r,e,i){if(l(r)&&l(r).files&&l(r).files.length>0){const t=await ue.convertFileToDataURL(l(r).files[0]);d(e,l(e).logoData=t),i()}}var ce=k('<h2>Settings</h2> <section><article><details open><summary>General Settings</summary> <label>Locale <select name="locale"><option></option><option>New Zealand</option><option>Deutschl</option><option>US</option></select></label></details></article> <article><details open><summary>Invoice Settings</summary> <label>Your Address <textarea name="address" autocomplete="address-line1" class="svelte-fggbt6"></textarea></label> <label>Invoice Header Lines <textarea name="inv-header" class="svelte-fggbt6"></textarea></label> <label>Your Logo <div style="display: flex; align-items: center; gap: 1rem;"><img alt=""> <input name="inv-logo-file" type="file" accept=".png, .jpg, .jpeg, .svg"></div></label> <label>Next Invoice Number <input name="next-inv-num" type="number" min="1"></label> <label>Default Invoice Footer Lines <textarea name="default-inv-footnote" class="svelte-fggbt6"></textarea></label></details></article></section>',1);function Se(a,r){z(r,!1);const e=T(G.read());let i=T();function t(){G.write(l(e))}le();var v=ce(),c=n(B(v),2),_=o(c),Z=o(_),A=n(o(Z),2),m=n(o(A));Y(()=>{l(e),W(()=>{})}),m.__change=[f,t];var b=o(m);b.value=((b.__value="")==null,"");var g=n(b);g.value=(g.__value="en-NZ")==null?"":"en-NZ";var h=n(g);h.value=(h.__value="en-DE")==null?"":"en-DE";var S=n(h);S.value=(S.__value="en-US")==null?"":"en-US",s(m),s(A),s(Z),s(_);var E=n(_,2),H=o(E),D=n(o(H),2),C=n(o(D));R(C),C.__input=[f,t],s(D);var N=n(D,2),U=n(o(N));R(U),U.__input=[f,t],s(N);var w=n(N,2),j=n(o(w)),I=o(j),O=n(I,2);O.__change=[ve,i,e,t],re(O,u=>V(i,u),()=>l(i)),s(j),s(w);var L=n(w,2),F=n(o(L));ee(F),F.__input=[f,t],s(L);var P=n(L,2),q=n(o(P));R(q),q.__input=[f,t],s(P),s(H),s(E),s(c),Y(()=>{x(b,(l(e).localeCode??"")==""),x(g,l(e).localeCode=="en-NZ"),x(h,l(e).localeCode=="en-DE"),x(S,l(e).localeCode=="en-US"),ae(I,"src",l(e).logoData),ne(I,"height","6rem")}),oe(m,()=>l(e).localeCode,u=>d(e,l(e).localeCode=u)),y(C,()=>l(e).address,u=>d(e,l(e).address=u)),y(U,()=>l(e).invoiceHeader,u=>d(e,l(e).invoiceHeader=u)),y(F,()=>l(e).nextInvoiceNumber,u=>d(e,l(e).nextInvoiceNumber=u)),y(q,()=>l(e).defaultInvoiceFooter,u=>d(e,l(e).defaultInvoiceFooter=u)),M(a,v),Q()}$(["change","input"]);export{Se as component};
