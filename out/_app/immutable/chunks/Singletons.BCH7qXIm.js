var h=Object.defineProperty;var u=(s,t,e)=>t in s?h(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var i=(s,t,e)=>u(s,typeof t!="symbol"?t+"":t,e);import{h as d,av as f,aw as g,X as _,ax as y}from"./runtime.Zs8r3Oqx.js";import{c as v}from"./events.DJoDsz3Y.js";function K(s){if(d){var t=!1,e=()=>{if(!t){if(t=!0,s.hasAttribute("value")){var r=s.value;c(s,"value",null),s.value=r}if(s.hasAttribute("checked")){var o=s.checked;c(s,"checked",null),s.checked=o}}};s.__on_r=e,f(e),v()}}function N(s,t){t?s.hasAttribute("selected")||s.setAttribute("selected",""):s.removeAttribute("selected")}function c(s,t,e,r){var o=s.__attributes??(s.__attributes={});d&&(o[t]=s.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&s.nodeName==="LINK")||o[t]!==(o[t]=e)&&(t==="style"&&"__styles"in s&&(s.__styles={}),t==="loading"&&(s[g]=e),e==null?s.removeAttribute(t):typeof e!="string"&&S(s).includes(t)?s[t]=e:s.setAttribute(t,e))}var n=new Map;function S(s){var t=n.get(s.nodeName);if(t)return t;n.set(s.nodeName,t=[]);for(var e,r=s,o=Element.prototype;o!==r;){e=y(r);for(var a in e)e[a].set&&t.push(a);r=_(r)}return t}class l{constructor(t){i(this,"bucket");this.bucket=t}encode(t){return JSON.stringify(t)}dencode(t){return JSON.parse(t)}buildKey(t){return[this.bucket,t].join("$")}isBucketKey(t){return t.startsWith(this.bucket+"$")}set(t,e){const r=this.buildKey(t),o=this.encode(e);localStorage.setItem(r,o)}get(t){const e=this.buildKey(t);return this.getWithKey(e)}getWithKey(t){const e=localStorage.getItem(t);return e===null?null:this.dencode(e)}getAll(){const t=[];for(let e=0;e<localStorage.length;e++){const r=localStorage.key(e);if(r==null)return t;if(!this.isBucketKey(r))continue;const o=this.getWithKey(r);o&&t.push(o)}return t}remove(t){const e=this.buildKey(t);localStorage.removeItem(e)}}class k{constructor(){i(this,"defaultSettings",{nextInvoiceNumber:1e3,scratchPads:{}})}modify(t){const e=this.read();t(e),this.write(e)}read(){const t=localStorage.getItem("settings");return t?JSON.parse(t)||this.defaultSettings:this.defaultSettings}write(t){const e=JSON.stringify(t);console.log(e),localStorage.setItem("settings",e)}getScratchPad(t){const e=this.read();return e.scratchPads||(e.scratchPads={},this.write(e)),e.scratchPads[t]??""}setScratchPad(t,e){this.modify(r=>{r.scratchPads||(r.scratchPads={}),r.scratchPads[t]=e})}}const b=new l("tasks"),m=new l("invoices"),P=new k;export{c as a,N as b,m as i,K as r,P as s,b as t};
